(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{596:function(s,a,t){"use strict";t.r(a);var n=t(6),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"linux-叹号-使用总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux-叹号-使用总结"}},[s._v("#")]),s._v(" Linux:叹号!使用总结")]),s._v(" "),t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),t("p",[s._v("实际上，不起眼的“!”在linux中有着很多让你惊叹的妙用。本文就来细数那些“!”的神奇用法。下面话不多说了，来一起看看详细的介绍吧")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.jb51.net/article/153946.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("引用"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[s._v("#")]),s._v(" 使用")]),s._v(" "),t("h3",{attrs:{id:"执行上一条命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行上一条命令"}},[s._v("#")]),s._v(" 执行上一条命令")]),s._v(" "),t("p",[s._v("例如，在执行完上面一条命令后，可以使用下面的方式再次执行上一条命令：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whereis")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行命令")]),s._v("\nbash: /bin/bash /etc/bash.bashrc /usr/share/man/man1/bash.1.gz\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再次执行上一条命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whereis")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\nbash: /bin/bash /etc/bash.bashrc /usr/share/man/man1/bash.1.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("!!代表了上一条执行的命令。可以看到，当输入两个感叹号时，它显示上条命令的同时会执行上一条命令。当然了，通常我们还会想到使用“UP”键来完成这个事情。但是如果是基于上条命令扩充，!!就来得更加方便了。\n比如，你想查看某个文件，但是忘了输入more：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("/opt/user/test.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#忘记输入more")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这样是不是快多了？")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("使用!!是不是方便多了？")]),s._v(" "),t("h3",{attrs:{id:"使用上个命令第一个或最后一个的参数执行命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用上个命令第一个或最后一个的参数执行命令"}},[s._v("#")]),s._v(" 使用上个命令第一个或最后一个的参数执行命令")]),s._v(" "),t("p",[s._v("使用上条命令最后一个参数\n比如，你在使用ls列出目录内容时，没有带任何参数，但是想再次执行，带上-al参数，又不想输入长长的参数，可以使用下面的方式：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /proc/1/task/1/net/tcp\n/proc/1/task/1/net/tc\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("$\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al /proc/1/task/1/net/tcp\n-r--r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":30 /proc/1/task/1/net/tcp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("这里的!$代表了上一条命令的最后一个参数。")]),s._v(" "),t("p",[s._v("使用上条命令第一个参数\n而使用上条命令的第一个参数只需要使用!^，例如：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("^\n// 输出忽略\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"去掉最后一个参数执行上一个命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#去掉最后一个参数执行上一个命令"}},[s._v("#")]),s._v(" 去掉最后一个参数执行上一个命令")]),s._v(" "),t("p",[s._v("如果想执行上条命令，但不想带上最后一个参数：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#假设dir是一个很长的字符串")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(":-\n$ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(":gs/old/new\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("什么场景下可能会用呢？比如你上一条命令最后一个参数是一个长长的字符串，而你恰好不想不用它，并且退格键删除又慢的时候，可以使用上面的方法。")]),s._v(" "),t("p",[s._v("使用上条命令的所有参数\n前面说了使用上条命令的最后一个参数，那如果不是最后一个参数，该如何使用呢？很简单，使用!*即可。例如我们在输入find命令输错了，想要纠正的时候：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ fin -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test.zip"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这里find输错了。")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("*\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ./ -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test.zip"')]),s._v("\n./workspaces/shell/find/test.zip\n./workspaces/shell/test.zip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("使用上条命令指定的参数\n有的读者可能会问了，如果我只想用其中某个参数呢？按照![命令名]:[参数号]的规则即可。例如：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rf dira dirb/ "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将dira拷贝到dirb")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("cp:2  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看dira的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l dira\ntotal "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-rw-rw-r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" hyb hyb "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":45 testfile\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("当上条命令的参数很长，而你需要取用中间的某个参数时，效果就比较明显了。$ !!:gs/old/new")]),s._v(" "),t("h3",{attrs:{id:"执行history中的命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行history中的命令"}},[s._v("#")]),s._v(" 执行history中的命令")]),s._v(" "),t("p",[s._v("我们都知道可以通过history命令可以查看之前执行过的命令，但是如何再次执行history中的命令呢？我们可以通过“UP”键可以查看，但是历史命令很长的时候，并不是很方便，这个时候“!”便派上了用场：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("这里省略更多内容"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2043")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" ./dira/testfile\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2044")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rf dira dirb/\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2045")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al dira\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2046")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l dira\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2047")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al dira\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l dira\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2049")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al dira\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2050")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -l dira\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2051")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("我们可以看到，history命令出来可以看到之前执行过的命令，也会看到它前面带了一个数值。如果我们想执行前面的cp -rf dira dirb/命令")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2044")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2044是执行的第n条命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -rf dira dirb/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("即通过![历史命令数值]的方式执行历史命令。\n当然了，如果我们想执行倒数第二条命令，也是有方法的：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("-2 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#感叹号后面跟着一个负数，负几代表倒数第几条")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"按照关键字执行历史命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#按照关键字执行历史命令"}},[s._v("#")]),s._v(" 按照关键字执行历史命令")]),s._v(" "),t("p",[s._v("!可以根据关键字执行命令。")]),s._v(" "),t("p",[s._v("执行上一条以关键字开头的命令\n例如，执行上一条find命令：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("find "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#执行上条以find开头的命令")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("执行上一条包含关键字的命令\n再例如，执行上一条包含name的命令：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ./ -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v("\n./test\n./find/test\n$ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("?name?\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ./ -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v("\n./test\n./find/test\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("替换上条命令的参数\n例如：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ./ -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"old*"')]),s._v(" -a -name "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*.zip"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("如果我们需要将这条命令中的old更换为new：")]),s._v(" "),t("div",{staticClass:"language-Shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(":gs/old/new\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"逻辑非的作用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑非的作用"}},[s._v("#")]),s._v(" 逻辑非的作用")]),s._v(" "),t("p",[s._v("这个是它最为人所熟悉的作用，例如删除除了cfg结尾以外的所有文件：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("*.cfg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除需谨慎")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这里就不再详述。")])])}),[],!1,null,null,null);a.default=e.exports}}]);