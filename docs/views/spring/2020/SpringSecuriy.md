---
date: 2020-04-14
categories:
  - spring
tags:
  - spring
  - security
description: JDK的SPI机制允许在打包的时候，通过META-INF下的配置文件来切换某接口不同的实现，但是一般认为这种动态切换发生在打包过程，程序运行前。Dubbo在此基础上进行了扩展，以方便打包，并提供运行时的动态切换功能。
---

# SpringSecurity学习

Spring提供了SpringSecurity框架来快速提供基础的安全功能。

## 1. 密码安全

密码安全思路为对【密码】或【密码+用户名】进行一定的Hash运算，数据库只保存密码的hash值，这样即使被脱库，也无法从hash值直接算出明文密码。常见的Hash方法如下

Hash函数|资源占用|安全性|弱点|优点
----------|---------|--------|----|----
MD5，SHA1、SHA256|低|低，不可用|彩虹表即可破解|对服务器占用低
加盐MD5、SHA1、SHA256|中|中|算力穷举可以破解|均衡占用与安全性
bcrypt,PBKDF2, scrypt, argon2|高，自适应|高，自适应|需要调试，需要配合另外的机制作授权|动态调整资源占用

一般认为比较安全的思路为SHA256函数的加盐版本，但是鉴于算力膨胀，GPU运算可以轻易的完成**每秒上亿次**的hash运算，使得针对普通加盐的暴力破解成为可能，因此推荐使用bcrypt,PBKDF2, scrypt,一般认为比较安全的思路为SHA256函数的加盐版本，但是鉴于算力膨胀，GPU运算可以轻易的完成每秒上亿次的hash运算，使得针对普通加盐的暴力破解成为可能，因此推荐使用bcrypt,PBKDF2, scrypt, argon2算法之一。 密码安全性即服务器资源占用与安全性的权衡，上述4种算法的特点是，可以通过调整系数来快速适应机器的性能提升，即可以将Hash运算的性能占用锁定在一个可以接受的水平，比如每秒一次Hash，这样可以在大幅提高暴力破解需要的算力的同时，不对服务器造成过重负载。能提升，即可以将Hash运算的性能占用锁定在一个可以接受的水平，比如每秒一次Hash，这样可以在大幅提高暴力破解需要的算力的同时，不对服务器造成过重负载。

